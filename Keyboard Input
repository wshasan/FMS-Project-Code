let stringToOutput = "";
let lastChar = '';
let a1 = false;
let b1 = true;
let a2 = false;
let b2 = true;
let a3 = false;
let b3 = true;
let a4 = false;
let b4 = true;

function setup() {
  createCanvas(400, 400);
}

function draw() {
  background(220);
  
  //takes keyboard input once per key press if the key pressed is a letter a-z or A-Z.
  //NOTE: work on recieving backspace input (uses keyCode, not key), creating a newline after a certain number of keys have been pressed, taking into account keys that disappear after String is shortened from backspaces, creating formatted text, creating text that you can type over, making that text turn red when it doesn't match and green when it is correct
  if (keyIsPressed) {
    //only runs once per key press
    if (b1) {
      a1 = true; 
      b1 = false;
      lastChar = key;
    }
    //lets a second key press be registered while 1 
    //key is being pressed down
    else if (key != lastChar && b2) {
      a2 = true;
      b2 = false;
      lastChar = key;
    }
    else if (key != lastChar && b3) {
      a3 = true;
      b3 = false;
      lastChar = key;
    }
    else if (key != lastChar && b4) {
      a4 = true;
      b4 = false;
    }
  } 
  else {
    b1 = true; 
    b2 = true;
    b3 = true;
    b4 = true;
    //b is true if the last key pressed is not currently being held down
  }
  if (a1 || a2 || a3 || a4) {
    if (keyCode >= 65 && keyCode <= 90 || key == ' ') {
      stringToOutput += key;
    }
    a1 = false;
    a2 = false;
    a3 = false;
    a4 = false;
  }
  //the draw function makes these if statements be continuously called.

  
  //text(text, x position, y position)
  text(stringToOutput, 200, 200);
}

//-- Old Code --
//ensures that only letter characters a-z (lowercase and uppercase) are read from keyboard input
//the P5.js built in keyCode variable gives the same character code for lowercase and uppercase letters, but the built in key variable records both, which is why this works for both
/*function keyPressed() {
  if (keyCode >= 65 && keyCode <= 90) {
    return key;
  }
  else {
    return "";
  }
}*/
