//NOTE: work on making it so that words are not cut in half between lines and on making a results screen
let charArray = [];
let paragraphArray = [];
let character = "";
let xInitial = 100;
let yInitial = 150;
let dx = 0;
let dy = 0;
let numNewLines = 0;
let sizeOfText = 20;
let charsBeforeNextLine = 20;
let font;

let paragraph = "The brown fox ate the red and blue berries in the afternoon";
for (let i = 0; i < paragraph.length; i++) {
  paragraphArray.push(paragraph.charAt(i));
}

function preload() {
  font = loadFont("Inconsolata.otf");
}

function setup() {
  createCanvas(400, 400);
  textFont(font);
  textSize(sizeOfText);
}

function draw() {
  background(240);
  
  for (let i = 0; i < paragraphArray.length; i++) {
    dx = textWidth(" ") * (i % charsBeforeNextLine);
    if (i / charsBeforeNextLine >= 1) {
      numNewLines = Math.floor(i / charsBeforeNextLine);
    }
    dy = sizeOfText * numNewLines;
    if (i <= charArray.length - 1) {
      if (charArray[i].charAt(0) === paragraphArray[i]) {
        fill("limegreen");
      } else {
        fill("red");
      }
      character = charArray[i];
    } else {
      fill("grey");
      character = paragraphArray[i];
    }
    text(character, xInitial + dx, yInitial + dy);
  }
  numNewLines = 0;
}

function keyPressed() {
  if (keyCode >= 65 && keyCode <= 90 || key == ' ') {
    charArray.push(key);
  } 
  else if (keyCode === 8) {
    charArray.splice(-1, 1);
  }
}
